language: rust
sudo: false

jobs:
  include:
  - stage: test
    script: cargo test --all
    name: "tests"
  - script: cargo fmt --all -- --check
    install: rustup component add rustfmt-preview --toolchain nightly
    name: "rustfmt"
    rust: nightly
